/* Generated by re2c */
// re2c $INPUT -o $OUTPUT -ci --loop-switch
#include <stdint.h>
#include <limits.h>
#include <assert.h>

static const uint64_t ERROR = ~0lu;
enum YYCONDTYPE {
	yycinit = 0,
	yycbin = 14,
	yycdec = 21,
	yychex = 28,
	yycoct = 39,
};


template<int BASE> static void adddgt(uint64_t &u, unsigned int d)
{
    u = u * BASE + d;
    if (u > UINT32_MAX) u = ERROR;
}

static uint64_t parse_u32(const char *s)
{
    const char *YYMARKER;
    int c = yycinit;
    uint64_t u = 0;

loop:
    
{
	char yych;
	unsigned int yystate = c;
	for (;;) {
		switch (yystate) {
			case 0:
				yych = *s;
				++s;
				switch (yych) {
					case '0':
						yystate = 3;
						continue;
					case '1':
					case '2':
					case '3':
					case '4':
					case '5':
					case '6':
					case '7':
					case '8':
					case '9':
						yystate = 5;
						continue;
					default:
						yystate = 1;
						continue;
				}
			case 1:
				{ return ERROR; }
			case 3:
				YYMARKER = s;
				yych = *s;
				switch (yych) {
					case 'B':
					case 'b':
						++s;
						yystate = 7;
						continue;
					case 'X':
					case 'x':
						++s;
						yystate = 9;
						continue;
					default:
						yystate = 4;
						continue;
				}
			case 4:
				c = yycoct;
				yystate = yycoct;
				continue;
			case 5:
				s -= 1;
				c = yycdec;
				yystate = yycdec;
				continue;
			case 7:
				yych = *s;
				switch (yych) {
					case '0':
					case '1':
						++s;
						yystate = 10;
						continue;
					default:
						yystate = 8;
						continue;
				}
			case 8:
				s = YYMARKER;
				yystate = 4;
				continue;
			case 9:
				yych = *s;
				switch (yych) {
					case '0':
					case '1':
					case '2':
					case '3':
					case '4':
					case '5':
					case '6':
					case '7':
					case '8':
					case '9':
					case 'A':
					case 'B':
					case 'C':
					case 'D':
					case 'E':
					case 'F':
					case 'a':
					case 'b':
					case 'c':
					case 'd':
					case 'e':
					case 'f':
						++s;
						yystate = 12;
						continue;
					default:
						yystate = 8;
						continue;
				}
			case 10:
				s -= 1;
				c = yycbin;
				yystate = yycbin;
				continue;
			case 12:
				s -= 1;
				c = yychex;
				yystate = yychex;
				continue;
			case 14:
				yych = *s;
				++s;
				switch (yych) {
					case 0x00:
						yystate = 15;
						continue;
					case '0':
					case '1':
						yystate = 19;
						continue;
					default:
						yystate = 17;
						continue;
				}
			case 15:
				{ return u; }
			case 17:
				{ return ERROR; }
			case 19:
				{ adddgt<2> (u, s[-1] - '0');      goto loop; }
			case 21:
				yych = *s;
				++s;
				switch (yych) {
					case 0x00:
						yystate = 22;
						continue;
					case '0':
					case '1':
					case '2':
					case '3':
					case '4':
					case '5':
					case '6':
					case '7':
					case '8':
					case '9':
						yystate = 26;
						continue;
					default:
						yystate = 24;
						continue;
				}
			case 22:
				{ return u; }
			case 24:
				{ return ERROR; }
			case 26:
				{ adddgt<10>(u, s[-1] - '0');      goto loop; }
			case 28:
				yych = *s;
				++s;
				switch (yych) {
					case 0x00:
						yystate = 29;
						continue;
					case '0':
					case '1':
					case '2':
					case '3':
					case '4':
					case '5':
					case '6':
					case '7':
					case '8':
					case '9':
						yystate = 33;
						continue;
					case 'A':
					case 'B':
					case 'C':
					case 'D':
					case 'E':
					case 'F':
						yystate = 35;
						continue;
					case 'a':
					case 'b':
					case 'c':
					case 'd':
					case 'e':
					case 'f':
						yystate = 37;
						continue;
					default:
						yystate = 31;
						continue;
				}
			case 29:
				{ return u; }
			case 31:
				{ return ERROR; }
			case 33:
				{ adddgt<16>(u, s[-1] - '0');      goto loop; }
			case 35:
				{ adddgt<16>(u, s[-1] - 'A' + 10); goto loop; }
			case 37:
				{ adddgt<16>(u, s[-1] - 'a' + 10); goto loop; }
			case 39:
				yych = *s;
				++s;
				switch (yych) {
					case 0x00:
						yystate = 40;
						continue;
					case '0':
					case '1':
					case '2':
					case '3':
					case '4':
					case '5':
					case '6':
					case '7':
						yystate = 44;
						continue;
					default:
						yystate = 42;
						continue;
				}
			case 40:
				{ return u; }
			case 42:
				{ return ERROR; }
			case 44:
				{ adddgt<8> (u, s[-1] - '0');      goto loop; }
		}
	}
}

}

int main()
{
    assert(parse_u32("1234567890") == 1234567890);
    assert(parse_u32("0b1101") == 13);
    assert(parse_u32("0x7Fe") == 2046);
    assert(parse_u32("0644") == 420);
    assert(parse_u32("9999999999") == ERROR);
    assert(parse_u32("") == ERROR);
    return 0;
}
